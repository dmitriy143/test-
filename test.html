<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <meta name="viewport" content="width=device-width, maximum-scale=1">
  <link rel="stylesheet" href="main.css">
</head>

<body>
  <!-- <p id="par1">С&nbsp;одной стороны, ему хочется, чтобы сверстанный текст хорошо смотрелся в&nbsp;окне
    браузера.
    А&nbsp;для этого
    нужно вместо знаков дюйма поставить нормальные кавычки (&laquo;какой-то текст &bdquo;елочки&ldquo;&raquo;
    и&nbsp;&laquo;лапки&raquo поубивать лишние пробелы, в&nbsp;нужных местах поменять дефисы на&nbsp;тире, неразрывным
    пробелом &laquo;привязать&raquo; все короткие союзы и&nbsp;предлоги к следующим за&nbsp;ними словам
    и&nbsp;произвести кучу других операций. С&nbsp;другой стороны, очень не&nbsp;хочется расставлять все эти значки,
    кавычки и&nbsp;неразрывные пробелы вручную.</p> -->

  <p cladss="ghbdtn">1</p>
  <p>2</p>
  <p>3</p>
  <p>4</p>
  <p>5</p>
  <button>go</button>
  <script>
    let elem = document.querySelectorAll('p');
    let set = new Set;
    addElemSet(elem);
    function addElemSet(elem) {
      for (let key of elem) {
        key.addEventListener('click', function () {
          set.add(this);
          this.style.background = 'green';
        })
      }
    }
    let but = document.querySelector('button');
    but.addEventListener('click', function () {
      for (let elem of set) {
        elem.textContent = elem.textContent + '!';
        elem.style.background = 'none';
      }
      set.clear();
    })
  </script>

</body>

</html>